{"version":3,"file":"static/js/940.88f5200e.chunk.js","mappings":"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","sources":["webpack://filmoteka/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","js/utils/LocationProvider/LocationProvider.js","pages/MoviesDetailsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie_item\":\"MovieDetails_movie_item__a4W62\",\"movie_descr\":\"MovieDetails_movie_descr__oHUzE\",\"movie_title\":\"MovieDetails_movie_title__dhyNq\",\"movie_score\":\"MovieDetails_movie_score__rYR6Q\",\"movie_details\":\"MovieDetails_movie_details__AvFFx\",\"movie_back_link\":\"MovieDetails_movie_back_link__oiHoH\",\"details__list\":\"MovieDetails_details__list__34gD0\",\"details__link\":\"MovieDetails_details__link__I3r4J\"};","import clsx from 'clsx';\nimport { Link, NavLink } from 'react-router-dom';\nimport { TiArrowBackOutline } from 'react-icons/ti';\nimport PropTypes from 'prop-types';\n\nimport styled from './MovieDetails.module.css';\n\nconst MovieDetails = ({ data, backLinkHref }) => {\n  const { title, poster_path, vote_average, overview, genres } = data;\n  const votes = String(Math.round(vote_average * 10));\n  return (\n    <>\n      {/* <LoaderScreen /> */}\n      <Link className={clsx(styled.movie_back_link)} to={backLinkHref}>\n        <TiArrowBackOutline fontSize={'36px'} />\n        Go back\n      </Link>\n      {Boolean(data) && (\n        <div className={clsx(styled.movie_item)}>\n          <img\n            src={poster_path && `https://image.tmdb.org/t/p/w500${poster_path}`}\n            alt={title && title}\n            className=\"movie_poster\"\n          />\n          <div className={clsx(styled.movie_descr)}>\n            <h2 className={clsx(styled.movie_title)}>{title}</h2>\n            <p className={clsx(styled.movie_score)}>\n              Positive votes: <span>{votes}%</span>\n            </p>\n            <div className={clsx(styled.movie_details)}>\n              <h3>Overview</h3>\n              <p>{overview}</p>\n            </div>\n            <div className={clsx(styled.movie_details)}>\n              <h3>Genres</h3>\n              <p className=\"movie_genres\">\n                {genres?.map(({ name }, index) => (\n                  <a key={index} href=\"_\" className=\"movie_genre\">\n                    {name}\n                  </a>\n                ))}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n      <ul className={clsx(styled.details__list)}>\n        <li className={clsx(styled.details__item)}>\n          <NavLink\n            className={clsx(styled.details__link)}\n            to=\"cast\"\n            state={{ from: backLinkHref }}\n          >\n            Cast\n          </NavLink>\n        </li>\n        <li className={clsx(styled.details__item)}>\n          <NavLink\n            className={clsx(styled.details__link)}\n            to=\"reviews\"\n            state={{ from: backLinkHref }}\n          >\n            Reviews\n          </NavLink>\n        </li>\n      </ul>\n    </>\n  );\n};\n\nexport default MovieDetails;\nMovieDetails.propTypes = {\n  data: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    poster_path: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.array.isRequired,\n  }),\n  backLinkHref: PropTypes.object.isRequired,\n};\n","import { AnimatePresence } from 'framer-motion';\n\nexport const LocationProvider = ({ children }) => {\n  return <AnimatePresence>{children}</AnimatePresence>;\n};\n","import { Suspense, lazy, useEffect } from 'react';\nimport { Route, Routes, useLocation, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Loader from 'components/Loader/LoaderScreen';\nimport MovieDetails from 'components/MovieDetails/MovieDetails';\nimport LoaderScreen from 'components/Loader/LoaderScreen';\nimport ErrorPage from './ErrorPage/ErrorPage';\n\nimport { LocationProvider } from 'js/utils/LocationProvider/LocationProvider';\nimport {\n  selectMoviesError,\n  selectMoviesIsFetching,\n  selectMoviesMovieDetail,\n} from 'redux/slices/film/selectors';\nimport { getSingleMovie } from 'redux/slices/film/thunks';\n\nconst Cast = lazy(() => import('components/Cast/Cast'));\nconst Reviews = lazy(() => import('components/Reviews/Reviews'));\n\nconst RoutesWithAnimation = () => {\n  const location = useLocation();\n\n  return (\n    <Suspense fallback={<Loader />}>\n      <Routes key={location.key}>\n        <Route path=\"cast\" element={<Cast />} />\n        <Route path=\"reviews\" element={<Reviews />} />\n      </Routes>\n    </Suspense>\n  );\n};\n\nconst MoviesDetailsPage = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const backLinkHref = location.state?.from ?? '/movies';\n  const dispatcher = useDispatch();\n  const movieDetail = useSelector(selectMoviesMovieDetail);\n  const isFetching = useSelector(selectMoviesIsFetching);\n  const error = useSelector(selectMoviesError);\n\n  useEffect(() => {\n    if (!movieId) return;\n    dispatcher(getSingleMovie(movieId));\n  }, [dispatcher, movieId]);\n\n  if (error) {\n    return <ErrorPage />;\n  }\n\n  return (\n    <section>\n      <div className=\"container\">\n        {isFetching && <LoaderScreen />}\n        {movieDetail && (\n          <MovieDetails data={movieDetail} backLinkHref={backLinkHref} />\n        )}\n        <LocationProvider>\n          <RoutesWithAnimation />\n        </LocationProvider>\n      </div>\n    </section>\n  );\n};\n\nexport default MoviesDetailsPage;\n"],"names":["_ref","data","backLinkHref","title","poster_path","vote_average","overview","genres","votes","String","Math","round","_jsxs","_Fragment","children","Link","className","clsx","styled","to","_jsx","TiArrowBackOutline","fontSize","Boolean","src","concat","alt","map","_ref2","index","name","href","NavLink","state","from","LocationProvider","AnimatePresence","Cast","lazy","Reviews","RoutesWithAnimation","location","useLocation","Suspense","fallback","Loader","Routes","Route","path","element","key","_location$state$from","_location$state","movieId","useParams","dispatcher","useDispatch","movieDetail","useSelector","selectMoviesMovieDetail","isFetching","selectMoviesIsFetching","error","selectMoviesError","useEffect","getSingleMovie","ErrorPage","LoaderScreen","MovieDetails"],"sourceRoot":""}